!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("TetherElement")):"function"==typeof define&&define.amd?define(["React","TetherElement"],t):"object"==typeof exports?exports.Selectly=t(require("React"),require("TetherElement")):e.Selectly=t(e.React,e.TetherElement)}(this,function(e,t){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="dist/",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=n(o);t["default"]=i["default"],e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=this,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var o=e,i=t,s=r;n=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(s)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,r=s,n=!0,u=l=void 0}},c=r(2),p=n(c),f=r(3),d=n(f),h=r(6),_=n(h),v=r(7),m=n(v),y=new m["default"],g=function(e,t,r){var n=e.constructor===Array;return n||(e=[e]),p["default"].createElement("button",{type:"button",className:"react-select__trigger"+(n?" react-select__trigger--multiple":"")+(t?" react-select__trigger--active":"")+(r?" react-select__trigger--disabled":"")},e.map(function(e){return p["default"].createElement("span",{key:e.label,className:"react-select__trigger__option"},e.label)}),p["default"].createElement("svg",{width:"21px",height:"21px",viewBox:"0 0 21 21",className:"react-select__trigger__arrow"},p["default"].createElement("polygon",{points:"10.5,12 7,8.5 14,8.5"})))},b=function(e,t){return t?e:p["default"].createElement("span",null)},O=function(e,t,r){var n=e.value,o=e.label,i=e.onSelect;return p["default"].createElement("li",{key:n||o,className:t?"react-select__optgroup":"react-select__option",onClick:!t&&i},t?p["default"].createElement("strong",{title:o,className:"react-select__optgroup__title"},o):p["default"].createElement("div",{title:"string"==typeof o&&o||"",className:"react-select__option__label"},o)," ",t&&p["default"].createElement("ul",{className:"react-select__options react-select__options--"+r},t))},k=function(){return null},Selectly=function(e){function Selectly(){var e=this;o(this,Selectly),l(Object.getPrototypeOf(Selectly.prototype),"constructor",this).apply(this,arguments),this.state={isOpen:!1,width:0},this._id="S"+Math.abs(~~(Math.random()*new Date)),this._firstOption=null,this._lookup=this._buildLookup(this.props.options),this._handleOptionClick=function(t){e.props.onChange(t),e.props.multiple||(e._setOpen(!1),setTimeout(function(){e.refs.tether.disable()},0))}}return i(Selectly,e),a(Selectly,[{key:"shouldComponentUpdate",value:function(e,t){return(0,d["default"])(this,e,t)}},{key:"componentDidMount",value:function(){this._setWidth(),y.add(this)}},{key:"componentWillReceiveProps",value:function(e){this._lookup=this._buildLookup(e.options),this.props.disabled!==e.disabled&&e.disabled===!0&&this._setOpen(!1)}},{key:"componentWillUnmount",value:function(){y.remove(this)}},{key:"_setOpen",value:function(e){this.setState({isOpen:e}),e?this.refs.tether.enable():this.refs.tether.disable()}},{key:"_setWidth",value:function(){this.props.autoWidth&&this.setState({width:this.refs.trigger.offsetWidth})}},{key:"_toggleOpen",value:function(e){this.props.disabled||(this.refs.trigger.contains(e.target)?this._setOpen(!this.state.isOpen):this.refs.drop&&!this.refs.drop.contains(e.target)&&this._setOpen(!1))}},{key:"_buildLookup",value:function(e){for(var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=e.length,n=0;r>n;n++){var o=e[n],i=o.optgroup,s=o.value;o.label;if(i)this._buildLookup(i,t);else{var u=e[n];t[s]=u,this._firstOption||(this._firstOption=u)}}return t}},{key:"_getCurrentOption",value:function(){var e=this,t=this.props.value,r=null;return r=t?t.constructor===Array?t.map(function(t){return e._lookup[t]}):this._lookup[t]:this._firstOption}},{key:"_renderTrigger",value:function(e,t,r){return this.props.renderTrigger(e,t,r)}},{key:"_renderHeader",value:function(){var e=this,t=function(){return e._setOpen(!1)};return this.props.renderHeader(t)}},{key:"_renderOption",value:function(e){var t=this,r=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=(e.value,e.label,e.optgroup),o=null;return n&&(r++,o=n.map(function(e){return t._renderOption(e,r)})),this.props.renderOption(u({},e,{onSelect:this._handleOptionClick.bind(null,e)}),o,r)}},{key:"_renderFooter",value:function(){var e=this,t=function(){return e._setOpen(!1)};return this.props.renderFooter(t)}},{key:"_renderNativeSelect",value:function(){var e=this,t=this.props,r=t.name,n=t.value,o=t.multiple;return p["default"].createElement("select",{name:r,value:n,multiple:o,onChange:function(){return null},style:{display:"none"}},Object.keys(this._lookup).map(function(t){var r=e._lookup[t],n=r.value,o=r.label;return p["default"].createElement("option",{key:n,value:n},o)}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.modifier,n=t.options,o=t.disabled,i=t.offset,s=(t.wrapper,t.autoWidth),u=t.nativeSelect,a=this.state,l=a.isOpen,c=a.width,f=this._getCurrentOption(),d="react-select",h="react-select-drop",v={};return r&&(d+=" "+d+"--"+name,h+=" "+h+"--"+name),s&&(v={width:c}),p["default"].createElement("div",{ref:"trigger",className:d},this._renderTrigger(f,l,o),p["default"].createElement(_["default"],{ref:"tether",target:this.refs.trigger,options:{attachment:"top left",targetAttachment:"bottom left",offset:i,classPrefix:"react-select",constraints:[{to:"window",attachment:"together"}]}},this.props.renderContent(p["default"].createElement("div",{ref:"drop",className:h,style:v},this._renderHeader(),p["default"].createElement("ul",{className:"react-select__options"},n.map(function(t){return e._renderOption(t)})),this._renderFooter()),l)),u&&this._renderNativeSelect())}}],[{key:"propTypes",value:{name:c.PropTypes.string,value:c.PropTypes.any,options:c.PropTypes.array,multiple:c.PropTypes.bool,disabled:c.PropTypes.bool,offset:c.PropTypes.string,autoWidth:c.PropTypes.bool,nativeSelect:c.PropTypes.bool,renderTrigger:c.PropTypes.func,renderContent:c.PropTypes.func,renderOption:c.PropTypes.func,renderHeader:c.PropTypes.func,renderFooter:c.PropTypes.func,onChange:c.PropTypes.func},enumerable:!0},{key:"defaultProps",value:{name:s._id,value:null,options:[],multiple:!1,disabled:!1,offset:"0px 0px",autoWidth:!0,nativeSelect:!0,renderTrigger:g,renderContent:b,renderOption:O,renderHeader:k,renderFooter:k,onChange:k},enumerable:!0}]),Selectly}(c.Component);t["default"]=Selectly,e.exports=t["default"]},function(t,r){t.exports=e},function(e,t,r){"use strict";e.exports=r(4)},function(e,t,r){"use strict";function n(e,t,r){return!o(e.props,t)||!o(e.state,r)}var o=r(5);e.exports=n},function(e,t){"use strict";function r(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var i=n.bind(t),s=0;s<r.length;s++)if(!i(r[s])||e[r[s]]!==t[r[s]])return!1;return!0}var n=Object.prototype.hasOwnProperty;e.exports=r},function(e,r){e.exports=t},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){var t=this;r(this,e),this._documentClickHandler=function(e){for(var r=t._queue.length;r--;)t._queue[r]._toggleOpen(e)},this._resizeHandler=function(){t._isTicking||requestAnimationFrame(t._setWidth),t._isTicking=!0},this._setWidth=function(){for(var e=t._queue.length;e--;)t._queue[e]._setWidth();t._isTicking=!1},this._queue=[],this._isTicking=!1,this.create()}return n(e,[{key:"create",value:function(){document.addEventListener("click",this._documentClickHandler),window.addEventListener("resize",this._resizeHandler)}},{key:"destroy",value:function(){this._queue=[],document.removeEventListener("click",this._documentClickHandler),window.removeEventListener("resize",this._resizeHandler)}},{key:"add",value:function(e){this._queue.push(e)}},{key:"remove",value:function(e){var t=this._queue.indexOf(e);t>-1&&this._queue.splice(t,1)}}]),e}();t["default"]=o,e.exports=t["default"]}])});